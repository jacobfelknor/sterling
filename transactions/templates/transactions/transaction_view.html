{% extends 'base.html' %}

{% block content %}


<div class="card border">
    <!-- <h2 class="card-header">{{ object.name }}</h2> -->
    <h3 class="card-header">Account: {{ account.name }}</h3>
    <div class="card-body">
        <table class="table dt-responsive" cellspacing="0" width="100%">
            <thead class="thead-dark" id="material">
                <tr>
                    <th>Transaction Information</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><b>Name:</b> <br>{{ transaction.name }}</td>
                    <td><b>Amount:</b> <br>${{ sum|floatformat:2 }}</td>
                    <td><b>Date:</b> <br>{{ transaction.date }}</td>
                </tr>
            </tbody>
        </table>
        {% if transaction.notes %}
        <table class="table dt-responsive" cellspacing="0" width="100%">
            <tr>
                <td><b>Notes:</b> <br>{{ transaction.notes }}</td>
            </tr>
        </table>
        {% endif %}
        <table class="table dt-responsive" cellspacing="0" width="100%">
            <thead class="thead-light">
                <tr>
                    <th>Account/Category</th>
                    <th>Memo</th>
                    <th>Amount</th>
                </tr>
            </thead>
            {% for ledger in ledgers %}
            <tr>
                <td><a href="{{ ledger.account.get_absolute_url }}">{{ ledger.account.name }}</a></td>
                <td>{{ ledger.memo }}</td>
                <td>{{ ledger.amount }}</td>
            </tr>
            {% endfor %}
        </table>
        <div class="row">
            <div class="col-4">
                <a href="{% url 'accounts:view' account.uuid %}"><button class="btn btn-outline-primary"><i
                            class="fa fa-arrow-left"></i> Back</button></a>
                <a href="#"><button class="btn btn-outline-dark"><i class="fa fa-pencil"></i> Edit</button></a>
            </div>
            <div class="col-4"></div>
            <div class="col-4">
                <a href="#" class="float-right"><button class="btn btn-outline-danger" data-toggle="modal"
                        data-target="#confirm_delete"><i class="fa fa-trash"></i> Delete</button></a>
            </div>
        </div>
    </div> <!-- card-body -->
</div> <!-- card -->


<!-- Modal -->
<div class="modal fade" id="confirm_delete" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Delete Transaction?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                This is permanent and cannot be undone.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fa fa-times"></i>
                    Cancel</button>
                <a href="#"><button class="btn btn-danger"><i class="fa fa-trash"></i>
                        Delete</button></a>
            </div>
        </div>
    </div>
</div>

{% endblock content %}